2025-09-20 17:07:27 - __main__ - INFO - API 키 상태: {'kakao': True, 'naver': True, 'cache': True}
2025-09-20 17:07:31 - __main__ - INFO - [REQ] GET / body=
2025-09-20 17:07:31 - __main__ - INFO - [RES] GET / 200 body={"message":"Meetup MCP Server","endpoints":{"health":"GET /health","mcp_list_tools":"GET /mcp/tools","mcp_call_tool":"POST /mcp/call"}}
2025-09-20 17:07:33 - __main__ - INFO - [REQ] GET /health body=
2025-09-20 17:07:33 - __main__ - INFO - [RES] GET /health 200 body={"status":"healthy","service":"meetup"}
2025-09-20 17:07:36 - __main__ - INFO - [REQ] GET /mcp/tools body=
2025-09-20 17:07:36 - __main__ - INFO - [RES] GET /mcp/tools 200 body={"tools":[{"name":"recommend_meetup_restaurants","description":"다중 사용자의 좌표를 받아 중간 지점 주변 식당을 추천합니다. 이미지 URL 포함 시도","inputSchema":{"type":"object","properties":{"users":{"type":"array","items":{"type":"object","properties":{"lat":{"type":"number","description":"위도"},"lng":{"type":"number","description":"경도"}},"required":["lat","lng"]},"minItems":2,"description":"사용자 정보 리스트 (최소 2명)"},"radius":{"type":"integer","default":1000,"description":"검색 반경 (미터)"},"cuisine":{"type":"string","description":"선호 요리 키워드"},"max_results":{"type":"integer","default":15,"description":"결과 개수 제한"}},"required":["users"]}}]}
2025-09-20 17:07:42 - __main__ - INFO - [REQ] POST /mcp/call body={
    "name": "recommend_meetup_restaurants",
    "arguments": {
      "users": [
        {"lat": 37.5665, "lng": 126.9780},
        {"lat": 37.3943, "lng": 127.1107}
      ],
      "radius": 1500,
      "cuisine": "한식",
      "max_results": 3
    }
  }
2025-09-20 17:07:42 - cache_manager - INFO - ✅ Redis 캐시 연결 성공
2025-09-20 17:07:42 - cache_manager - INFO - 💾 캐시 미스: meetup_search:<__main__.PlaceSearchService object at 0x7f434b682980>:[{'lat': 37.5665, 'lng': 126.978}, {'lat': 37.3943, 'lng': 127.1107}]:1500:한식:3
2025-09-20 17:07:42 - geocoding_service - ERROR - 카카오 역지오코딩 실패: 'NoneType' object has no attribute 'get'
2025-09-20 17:07:42 - geocoding_service - ERROR - 네이버 역지오코딩 실패: 401 Client Error: Unauthorized for url: https://naveropenapi.apigw.ntruss.com/map-reversegeocode/v2/gc?coords=127.04435,37.4804&output=json
2025-09-20 17:07:42 - geocoding_service - WARNING - 주소 변환 실패: (37.4804, 127.04435)
2025-09-20 17:07:42 - cache_manager - INFO - ✅ Redis 캐시 연결 성공
2025-09-20 17:07:42 - cache_manager - INFO - 💾 캐시 미스: kakao_search:<__main__.PlaceSearchService object at 0x7f434b682980>:37.4804:127.04435:1500:한식 맛집:3
2025-09-20 17:07:42 - cache_manager - INFO - 💾 캐시 저장: kakao_search:<__main__.PlaceSearchService object at 0x7f434b682980>:37.4804:127.04435:1500:한식 맛집:3
2025-09-20 17:07:42 - cache_manager - INFO - ✅ Redis 캐시 연결 성공
2025-09-20 17:07:42 - cache_manager - INFO - 💾 캐시 미스: naver_image:<__main__.PlaceSearchService object at 0x7f434b682980>:설마중
2025-09-20 17:07:43 - cache_manager - INFO - 💾 캐시 저장: naver_image:<__main__.PlaceSearchService object at 0x7f434b682980>:설마중
2025-09-20 17:07:43 - cache_manager - INFO - 💾 캐시 미스: naver_image:<__main__.PlaceSearchService object at 0x7f434b682980>:밀란국수 개포본점
2025-09-20 17:07:43 - cache_manager - INFO - 💾 캐시 저장: naver_image:<__main__.PlaceSearchService object at 0x7f434b682980>:밀란국수 개포본점
2025-09-20 17:07:43 - cache_manager - INFO - 💾 캐시 미스: naver_image:<__main__.PlaceSearchService object at 0x7f434b682980>:평양면옥 도곡점
2025-09-20 17:07:43 - cache_manager - INFO - 💾 캐시 저장: naver_image:<__main__.PlaceSearchService object at 0x7f434b682980>:평양면옥 도곡점
2025-09-20 17:07:43 - cache_manager - INFO - 💾 캐시 저장: meetup_search:<__main__.PlaceSearchService object at 0x7f434b682980>:[{'lat': 37.5665, 'lng': 126.978}, {'lat': 37.3943, 'lng': 127.1107}]:1500:한식:3
2025-09-20 17:07:43 - __main__ - INFO - [RES] POST /mcp/call 200 body={"content":{"midpoint":{"lat":37.4804,"lng":127.04435,"address":"위도: 37.480400, 경도: 127.044350","road_address":"","jibun_address":"","region1":"","region2":"","region3":""},"users":[{"lat":37.5665,"lng":126.978},{"lat":37.3943,"lng":127.1107}],"restaurants":[{"place_id":"26410902","place_name":"설마중","place_url":"http://place.map.kakao.com/26410902","place_phone":"02-3462-8888","place_address":"서울 서초구 양재동 2-3","place_road_address":"서울 서초구 남부순환로 2648","place_category":"음식점 > 한식 > 육류,고기 > 갈비","place_x":127.040369448949,"place_y":37.4850100417281,"distance":"621","image_url":"https://ldb-phinf.pstatic.net/20151222_298/1450768638822XeE9S_JPEG/167172564737079_7.jpg","source":"kakao"},{"place_id":"9011542","place_name":"밀란국수 개포본점","place_url":"http://place.map.kakao.com/9011542","place_phone":"02-574-3216","place_address":"서울 강남구 개포동 1215","place_road_address":"서울 강남구 개포로28길 4","place_category":"음식점 > 한식 > 국수","place_x":127.04913808030538,"place_y":37.47853837789401,"distance":"471","image_ur... [truncated]
2025-09-20 17:07:49 - __main__ - INFO - [REQ] GET /cache/stats body=
2025-09-20 17:07:49 - __main__ - INFO - [RES] GET /cache/stats 200 body={"cache":{"connected":true,"enabled":true,"keys":20,"memory":"1.13M","hits":129,"misses":236}}
2025-09-20 17:07:53 - __main__ - INFO - [REQ] POST /mcp/call body={
    "name": "recommend_meetup_restaurants",
    "arguments": {
      "users": [
        {"lat": 37.5665, "lng": 126.9780},
        {"lat": 37.3943, "lng": 127.1107}
      ],
      "radius": 1500,
      "cuisine": "한식",
      "max_results": 3
    }
  }
2025-09-20 17:07:53 - cache_manager - INFO - 🎯 캐시 히트: meetup_search:<__main__.PlaceSearchService object at 0x7f434b682980>:[{'lat': 37.5665, 'lng': 126.978}, {'lat': 37.3943, 'lng': 127.1107}]:1500:한식:3
2025-09-20 17:07:53 - __main__ - INFO - [RES] POST /mcp/call 200 body={"content":{"midpoint":{"lat":37.4804,"lng":127.04435,"address":"위도: 37.480400, 경도: 127.044350","road_address":"","jibun_address":"","region1":"","region2":"","region3":""},"users":[{"lat":37.5665,"lng":126.978},{"lat":37.3943,"lng":127.1107}],"restaurants":[{"place_id":"26410902","place_name":"설마중","place_url":"http://place.map.kakao.com/26410902","place_phone":"02-3462-8888","place_address":"서울 서초구 양재동 2-3","place_road_address":"서울 서초구 남부순환로 2648","place_category":"음식점 > 한식 > 육류,고기 > 갈비","place_x":127.040369448949,"place_y":37.4850100417281,"distance":"621","image_url":"https://ldb-phinf.pstatic.net/20151222_298/1450768638822XeE9S_JPEG/167172564737079_7.jpg","source":"kakao"},{"place_id":"9011542","place_name":"밀란국수 개포본점","place_url":"http://place.map.kakao.com/9011542","place_phone":"02-574-3216","place_address":"서울 강남구 개포동 1215","place_road_address":"서울 강남구 개포로28길 4","place_category":"음식점 > 한식 > 국수","place_x":127.04913808030538,"place_y":37.47853837789401,"distance":"471","image_ur... [truncated]
2025-09-20 17:07:56 - __main__ - INFO - [REQ] GET /cache/stats body=
2025-09-20 17:07:56 - __main__ - INFO - [RES] GET /cache/stats 200 body={"cache":{"connected":true,"enabled":true,"keys":20,"memory":"1.14M","hits":130,"misses":236}}
2025-09-20 17:07:59 - __main__ - INFO - [REQ] POST /cache/clear body=
2025-09-20 17:07:59 - __main__ - INFO - [RES] POST /cache/clear 200 body={"deleted":1,"pattern":"kakao_search:*"}
2025-09-20 17:08:01 - __main__ - INFO - [REQ] GET /cache/stats body=
2025-09-20 17:08:02 - __main__ - INFO - [RES] GET /cache/stats 200 body={"cache":{"connected":true,"enabled":true,"keys":19,"memory":"1.16M","hits":130,"misses":236}}
2025-09-20 17:08:05 - __main__ - INFO - [REQ] POST /mcp/call body={
    "name": "recommend_meetup_restaurants",
    "arguments": {
      "users": [
        {"lat": 37.5665, "lng": 126.9780}
      ],
      "radius": 1500,
      "cuisine": "한식",
      "max_results": 3
    }
  }
2025-09-20 17:08:05 - __main__ - INFO - [RES] POST /mcp/call 400 body={"detail":"users는 최소 2명의 사용자 정보가 필요합니다"}
2025-09-20 17:08:08 - __main__ - INFO - [REQ] POST /mcp/call body={
    "name": "unknown_tool",
    "arguments": {}
  }
2025-09-20 17:08:08 - __main__ - INFO - [RES] POST /mcp/call 404 body={"detail":"알 수 없는 도구: unknown_tool"}
2025-09-20 17:09:41 - __main__ - INFO - API 키 상태: {'kakao': True, 'naver': True, 'cache': True}
2025-09-20 17:09:48 - __main__ - INFO - [REQ] GET / body=
2025-09-20 17:09:48 - __main__ - INFO - [RES] GET / 200 body={"message":"Meetup MCP Server","endpoints":{"health":"GET /health","mcp_list_tools":"GET /mcp/tools","mcp_call_tool":"POST /mcp/call"}}
2025-09-20 17:09:52 - __main__ - INFO - [REQ] GET /docs body=
2025-09-20 17:09:52 - __main__ - INFO - [RES] GET /docs 200 body=
    <!DOCTYPE html>
    <html>
    <head>
    <link type="text/css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui.css">
    <link rel="shortcut icon" href="https://fastapi.tiangolo.com/img/favicon.png">
    <title>Meetup MCP Server - Swagger UI</title>
    </head>
    <body>
    <div id="swagger-ui">
    </div>
    <script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@5/swagger-ui-bundle.js"></script>
    <!-- `SwaggerUIBundle` is now available on the page -->
    <script>
    const ui = SwaggerUIBundle({
        url: '/openapi.json',
    "dom_id": "#swagger-ui",
"layout": "BaseLayout",
"deepLinking": true,
"showExtensions": true,
"showCommonExtensions": true,
oauth2RedirectUrl: window.location.origin + '/docs/oauth2-redirect',
    presets: [
        SwaggerUIBundle.presets.apis,
        SwaggerUIBundle.SwaggerUIStandalonePreset
        ],
    })
    </script>
    </body>
    </html>
    
2025-09-20 17:09:53 - __main__ - INFO - [REQ] GET /openapi.json body=
2025-09-20 17:09:53 - __main__ - INFO - [RES] GET /openapi.json 200 body={"openapi":"3.1.0","info":{"title":"Meetup MCP Server","version":"1.0.0"},"paths":{"/mcp/tools":{"get":{"summary":"Mcp List Tools","description":"함수명: mcp_list_tools\n기능: 이 서버가 제공하는 MCP 도구 목록을 반환합니다.\n요청 파라미터(예시):\n  - 없음 (GET /mcp/tools)\n응답 파라미터(예시):\n  {\n    \"tools\": [{\"name\":\"recommend_meetup_restaurants\", \"inputSchema\": {...}}]\n  }","operationId":"mcp_list_tools_mcp_tools_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Mcp List Tools Mcp Tools Get"}}}}}}},"/mcp/call":{"post":{"summary":"Mcp Call Tool","description":"함수명: mcp_call_tool\n기능: MCP 규격의 도구 호출을 받아 내부 도구 구현으로 라우팅합니다.\n요청 파라미터(예시):\n  {\n    \"name\": \"recommend_meetup_restaurants\",\n    \"arguments\": {\n      \"users\": [\n        {\"lat\": 37.5665, \"lng\": 126.9780},\n        {\"lat\": 37.3943, \"lng\": 127.1107}\n      ],\n      \"radius\": 1500,\n      \"cuisine\": \"한식\",\n      \"max_resul... [truncated]
2025-09-20 17:10:02 - __main__ - INFO - [REQ] GET /mcp/tools body=
2025-09-20 17:10:02 - __main__ - INFO - [RES] GET /mcp/tools 200 body={"tools":[{"name":"recommend_meetup_restaurants","description":"다중 사용자의 좌표를 받아 중간 지점 주변 식당을 추천합니다. 이미지 URL 포함 시도","inputSchema":{"type":"object","properties":{"users":{"type":"array","items":{"type":"object","properties":{"lat":{"type":"number","description":"위도"},"lng":{"type":"number","description":"경도"}},"required":["lat","lng"]},"minItems":2,"description":"사용자 정보 리스트 (최소 2명)"},"radius":{"type":"integer","default":1000,"description":"검색 반경 (미터)"},"cuisine":{"type":"string","description":"선호 요리 키워드"},"max_results":{"type":"integer","default":15,"description":"결과 개수 제한"}},"required":["users"]}}]}
2025-09-20 17:10:05 - __main__ - INFO - [REQ] GET / body=
2025-09-20 17:10:05 - __main__ - INFO - [RES] GET / 200 body={"message":"Meetup MCP Server","endpoints":{"health":"GET /health","mcp_list_tools":"GET /mcp/tools","mcp_call_tool":"POST /mcp/call"}}
2025-09-20 17:10:08 - __main__ - INFO - [REQ] GET /favicon.ico body=
2025-09-20 17:10:08 - __main__ - INFO - [RES] GET /favicon.ico 404 body={"detail":"Not Found"}
2025-09-20 17:10:14 - __main__ - INFO - [REQ] GET /mcp/tools body=
2025-09-20 17:10:14 - __main__ - INFO - [RES] GET /mcp/tools 200 body={"tools":[{"name":"recommend_meetup_restaurants","description":"다중 사용자의 좌표를 받아 중간 지점 주변 식당을 추천합니다. 이미지 URL 포함 시도","inputSchema":{"type":"object","properties":{"users":{"type":"array","items":{"type":"object","properties":{"lat":{"type":"number","description":"위도"},"lng":{"type":"number","description":"경도"}},"required":["lat","lng"]},"minItems":2,"description":"사용자 정보 리스트 (최소 2명)"},"radius":{"type":"integer","default":1000,"description":"검색 반경 (미터)"},"cuisine":{"type":"string","description":"선호 요리 키워드"},"max_results":{"type":"integer","default":15,"description":"결과 개수 제한"}},"required":["users"]}}]}
2025-09-20 17:10:40 - __main__ - INFO - [REQ] POST /mcp/call body={
   "name": "recommend_meetup_restaurants", "arguments": { "users": [ {"lat": 37.5665, "lng": 126.9780}, {"lat": 37.3943, "lng": 127.1107} ], "radius": 1500, "cuisine": "한식", "max_results": 5 } 
}
2025-09-20 17:10:40 - cache_manager - INFO - ✅ Redis 캐시 연결 성공
2025-09-20 17:10:40 - cache_manager - INFO - 💾 캐시 미스: meetup_search:<__main__.PlaceSearchService object at 0x7f356669f430>:[{'lat': 37.5665, 'lng': 126.978}, {'lat': 37.3943, 'lng': 127.1107}]:1500:한식:5
2025-09-20 17:10:41 - geocoding_service - ERROR - 카카오 역지오코딩 실패: 'NoneType' object has no attribute 'get'
2025-09-20 17:10:41 - geocoding_service - ERROR - 네이버 역지오코딩 실패: 401 Client Error: Unauthorized for url: https://naveropenapi.apigw.ntruss.com/map-reversegeocode/v2/gc?coords=127.04435,37.4804&output=json
2025-09-20 17:10:41 - geocoding_service - WARNING - 주소 변환 실패: (37.4804, 127.04435)
2025-09-20 17:10:41 - cache_manager - INFO - ✅ Redis 캐시 연결 성공
2025-09-20 17:10:41 - cache_manager - INFO - 💾 캐시 미스: kakao_search:<__main__.PlaceSearchService object at 0x7f356669f430>:37.4804:127.04435:1500:한식 맛집:5
2025-09-20 17:10:41 - cache_manager - INFO - 💾 캐시 저장: kakao_search:<__main__.PlaceSearchService object at 0x7f356669f430>:37.4804:127.04435:1500:한식 맛집:5
2025-09-20 17:10:41 - cache_manager - INFO - ✅ Redis 캐시 연결 성공
2025-09-20 17:10:41 - cache_manager - INFO - 💾 캐시 미스: naver_image:<__main__.PlaceSearchService object at 0x7f356669f430>:설마중
2025-09-20 17:10:41 - cache_manager - INFO - 💾 캐시 저장: naver_image:<__main__.PlaceSearchService object at 0x7f356669f430>:설마중
2025-09-20 17:10:41 - cache_manager - INFO - 💾 캐시 미스: naver_image:<__main__.PlaceSearchService object at 0x7f356669f430>:밀란국수 개포본점
2025-09-20 17:10:41 - cache_manager - INFO - 💾 캐시 저장: naver_image:<__main__.PlaceSearchService object at 0x7f356669f430>:밀란국수 개포본점
2025-09-20 17:10:41 - cache_manager - INFO - 💾 캐시 미스: naver_image:<__main__.PlaceSearchService object at 0x7f356669f430>:평양면옥 도곡점
2025-09-20 17:10:41 - cache_manager - INFO - 💾 캐시 저장: naver_image:<__main__.PlaceSearchService object at 0x7f356669f430>:평양면옥 도곡점
2025-09-20 17:10:41 - cache_manager - INFO - 💾 캐시 미스: naver_image:<__main__.PlaceSearchService object at 0x7f356669f430>:영동족발 본점
2025-09-20 17:10:42 - cache_manager - INFO - 💾 캐시 저장: naver_image:<__main__.PlaceSearchService object at 0x7f356669f430>:영동족발 본점
2025-09-20 17:10:42 - cache_manager - INFO - 💾 캐시 미스: naver_image:<__main__.PlaceSearchService object at 0x7f356669f430>:두어마리 양재점
2025-09-20 17:10:42 - cache_manager - INFO - 💾 캐시 저장: naver_image:<__main__.PlaceSearchService object at 0x7f356669f430>:두어마리 양재점
2025-09-20 17:10:42 - cache_manager - INFO - 💾 캐시 저장: meetup_search:<__main__.PlaceSearchService object at 0x7f356669f430>:[{'lat': 37.5665, 'lng': 126.978}, {'lat': 37.3943, 'lng': 127.1107}]:1500:한식:5
2025-09-20 17:10:42 - __main__ - INFO - [RES] POST /mcp/call 200 body={"content":{"midpoint":{"lat":37.4804,"lng":127.04435,"address":"위도: 37.480400, 경도: 127.044350","road_address":"","jibun_address":"","region1":"","region2":"","region3":""},"users":[{"lat":37.5665,"lng":126.978},{"lat":37.3943,"lng":127.1107}],"restaurants":[{"place_id":"26410902","place_name":"설마중","place_url":"http://place.map.kakao.com/26410902","place_phone":"02-3462-8888","place_address":"서울 서초구 양재동 2-3","place_road_address":"서울 서초구 남부순환로 2648","place_category":"음식점 > 한식 > 육류,고기 > 갈비","place_x":127.040369448949,"place_y":37.4850100417281,"distance":"621","image_url":"https://ldb-phinf.pstatic.net/20151222_298/1450768638822XeE9S_JPEG/167172564737079_7.jpg","source":"kakao"},{"place_id":"9011542","place_name":"밀란국수 개포본점","place_url":"http://place.map.kakao.com/9011542","place_phone":"02-574-3216","place_address":"서울 강남구 개포동 1215","place_road_address":"서울 강남구 개포로28길 4","place_category":"음식점 > 한식 > 국수","place_x":127.04913808030538,"place_y":37.47853837789401,"distance":"471","image_ur... [truncated]
